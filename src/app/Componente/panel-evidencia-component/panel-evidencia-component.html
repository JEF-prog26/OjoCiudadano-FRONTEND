<!-- Contenedor principal y fondo -->
<div class="page-wrapper">
  <div class="panel-card">
    <div class="panel-header">
      <h2 class="panel-title">Panel de Gestión de Evidencias</h2>

      <!-- Zona de búsqueda y acciones -->
      <div class="header-actions">
        <input type="text" class="search-input" placeholder="Buscar por Nombre o ID..." #searchInput>
        <!-- Asumiendo que onBuscar existe en .ts para evitar errores -->
        <button class="action-btn action-btn-primary" (click)="onBuscar(searchInput.value)">Buscar</button>
        <button class="action-btn action-btn-secondary" (click)="searchInput.value = ''; onBuscar('')">Limpiar</button>
        <button class="action-btn action-btn-add">Subir Evidencia</button>
      </div>
    </div>

    <!-- Tabla de Evidencias -->
    <div class="table-container">
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Documento UR</th>
          <th>Tipo</th>
          <th>Fecha de envío</th>
          <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <!-- Iteración sobre los datos de evidencias -->
        <tr *ngFor="let evidencia of evidencias">
          <td>{{ evidencia.id }}</td>
          <td>{{ evidencia.nombre }}</td>
          <td>
            <!-- Muestra el nombre del archivo y lo hace clicable -->
            <a [href]="evidencia.documentoUrl" target="_blank" class="document-link">Ver Documento</a>
          </td>
          <td><span [ngClass]="{'type-image': evidencia.tipo === 'Imagen', 'type-pdf': evidencia.tipo === 'PDF', 'type-video': evidencia.tipo === 'Video'}">{{ evidencia.tipo }}</span></td>
          <td>{{ evidencia.fechaEnvio }}</td>
          <td>
            <div class="action-buttons">
              <!-- Botón de Visualizar (ojo) -->
              <button class="action-icon-btn view-btn" title="Visualizar" (click)="onVisualizar(evidencia)">
                <!-- Icono de ojo (Eye icon) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
              <!-- Botón de Editar (lápiz) -->
              <button class="action-icon-btn edit-btn" title="Editar" (click)="onEditar(evidencia)">
                <!-- Icono de lápiz (Pencil icon) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.85 0 0 0 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>
              </button>
              <!-- Botón de Eliminar (basura) -->
              <button class="action-icon-btn delete-btn" title="Eliminar" (click)="onEliminar(evidencia)">
                <!-- Icono de basurero (Trash icon) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M10 11v6"/><path d="M14 11v6"/></svg>
              </button>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
